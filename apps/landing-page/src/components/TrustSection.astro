---
import { Star, Quote, ArrowRight } from "@lucide/astro";
import { Button } from "@packages/ui/components/button";
import { testimonials } from "@/data/sections/testimonials";

const scrollToWaitlist = () => {
  if (typeof window !== "undefined") {
    document.getElementById("waitlist")?.scrollIntoView({ behavior: "smooth" });
  }
};
---
<section class="snap-start py-10 sm:py-14 md:py-16 bg-gray-50 snap-start">
  <div class="container mx-auto px-2 sm:px-4 md:px-6 lg:px-8">
    <div class="text-center mb-8 sm:mb-10 md:mb-12">
      <h2 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold text-gray-900 mb-3 sm:mb-4">
        Join 2,800+ Creators Who've Already Made The Switch
      </h2>
      <div class="flex flex-wrap items-center justify-center gap-2 mb-4 sm:mb-6">
        {Array.from({ length: 5 }).map((_, i) => (
          <Star className="w-5 h-5 fill-yellow-400 text-yellow-400" />
        ))}
        <span class="text-gray-600 ml-2 text-xs sm:text-sm">4.9/5 from 847 reviews</span>
      </div>
      <p class="text-gray-600 max-w-xl sm:max-w-2xl mx-auto text-sm sm:text-base md:text-lg">
        See how content creators and agencies are transforming their workflow with AI-powered blog automation
      </p>
    </div>

    <!-- Testimonials -->
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 max-w-6xl mx-auto mb-10 sm:mb-12">
      {testimonials.map((testimonial) => (
        <div class="border-0 shadow-md hover:shadow-lg transition-all duration-300 rounded-xl bg-white flex flex-col h-full">
          <div class="p-4 sm:p-6 flex flex-col h-full">
            <div class="flex items-center mb-2 sm:mb-4">
              {Array.from({ length: testimonial.rating }).map(() => (
                <Star className="w-4 h-4 fill-yellow-400 text-yellow-400" />
              ))}
            </div>

            <Quote className="w-7 h-7 sm:w-8 sm:h-8 text-purple-200 mb-2 sm:mb-3" />

            <p class="text-gray-700 mb-3 sm:mb-4 leading-relaxed text-sm sm:text-base">"{testimonial.content}"</p>

            <div class="bg-purple-50 rounded-lg p-2 sm:p-3 mb-3 sm:mb-4">
              <div class="text-xs sm:text-sm font-semibold text-purple-800">Results:</div>
              <div class="text-xs sm:text-sm text-purple-700">{testimonial.results}</div>
            </div>

            <div class="border-t pt-3 sm:pt-4 mt-auto">
              <p class="font-semibold text-gray-900 text-sm sm:text-base">{testimonial.name}</p>
              <p class="text-xs sm:text-sm text-gray-600">{testimonial.role}</p>
              <p class="text-xs sm:text-sm text-purple-600">{testimonial.company}</p>
            </div>
          </div>
        </div>
      ))}
    </div>

    <!-- Connecting CTA -->
    <div class="text-center">
      <div class="bg-white rounded-2xl shadow-lg p-6 sm:p-8 max-w-lg sm:max-w-2xl mx-auto">
        <h3 class="text-lg sm:text-xl font-bold text-gray-900 mb-2">Ready to Join Them?</h3>
        <p class="text-gray-600 mb-4 sm:mb-6 text-sm sm:text-base">
          Get early access to the same AI-powered blog automation that's transforming content creation
        </p>
        <Button onClick={scrollToWaitlist} className="w-full sm:w-auto bg-purple-600 hover:bg-purple-700 text-white px-6 sm:px-8 py-2 sm:py-3 group text-base sm:text-lg">
          Secure Your Spot
          <ArrowRight class="w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform" />
        </Button>
      </div>
    </div>
  </div>
</section>
