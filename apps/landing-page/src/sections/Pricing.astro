---
import {
   Card,
   CardHeader,
   CardTitle,
   CardDescription,
} from "@packages/ui/components/card";
import { Button } from "@packages/ui/components/button";
import { Check } from "@lucide/astro";

type ButtonVariant =
   | "outline"
   | "default"
   | "destructive"
   | "ghost"
   | "link"
   | "secondary";

interface PricingPlan {
   name: string;
   price: string;
   period: string;
   description: string;
   variant: ButtonVariant;
   popular?: boolean;
   features: string[];
}

const pricingPlans: PricingPlan[] = [
   {
      name: "Free",
      price: "$0",
      period: "/ mo",
      description: "Perfect for getting started",
      variant: "outline",
      features: [
         "1 AI Agent",
         "10 blog posts per month",
         "Basic SEO optimization",
         "Email support",
      ],
   },
   {
      name: "Pro",
      price: "$29",
      period: "/ mo",
      description: "For growing content creators",
      variant: "default",
      popular: true,
      features: [
         "5 AI Agents",
         "100 blog posts per month",
         "Advanced SEO optimization",
         "Custom brand voice",
         "Priority support",
         "Analytics dashboard",
         "API access",
      ],
   },
   {
      name: "Enterprise",
      price: "$99",
      period: "/ mo",
      description: "For agencies and teams",
      variant: "outline",
      features: [
         "Unlimited AI Agents",
         "Unlimited blog posts",
         "White-label solution",
         "Custom integrations",
         "Dedicated support",
         "Advanced analytics",
         "Team collaboration",
      ],
   },
];
---

<section id="pricing" class="bg-muted relative py-16 md:py-24">
  <div class="mx-auto max-w-5xl px-6">
    <div class="mx-auto max-w-2xl text-center">
      <h2 class="text-balance text-2xl font-bold md:text-3xl lg:text-4xl">
        Pricing that scales with your business
      </h2>
      <p class="text-muted-foreground mx-auto mt-4 max-w-xl text-balance">
        Choose the perfect plan for your needs and start optimizing your workflow today
      </p>
    </div>

    <div class="relative mt-12">
      <div class="grid gap-6 md:grid-cols-3">
        {pricingPlans.map((plan, index) => (
          <Card
            className={`relative ${plan.popular ? 'ring-2 ring-primary scale-105 shadow-xl' : 'shadow-lg'}`}
          >
            <CardHeader className="p-8">
              <div class="flex items-center justify-between">
                <CardTitle className="font-medium">{plan.name}</CardTitle>
                {plan.popular && (
                  <span class="bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-medium">
                    Most Popular
                  </span>
                )}
              </div>
              <span class="mb-0.5 mt-2 block text-2xl font-semibold">
                {plan.price}<span class="text-sm font-normal text-muted-foreground">{plan.period}</span>
              </span>
              <CardDescription className="text-sm">{plan.description}</CardDescription>
            </CardHeader>

            <div class="border-y px-8 py-4">
              <a href="https://app.contentagen.com/auth/sign-up" target="_blank" rel="noopener noreferrer">
                <Button
                  className="w-full"
                  variant={plan.variant}
                  aria-label={`Get started with ${plan.name} plan at ${plan.price} per month`}
                >
                  Get Started
                </Button>
              </a>
            </div>

            <ul role="list" class="space-y-3 p-8">
              {plan.features.map((feature) => (
                <li class="flex items-center gap-2">
                  <Check class="text-primary size-3" stroke-width="3.5" />
                  <span class="text-sm">{feature}</span>
                </li>
              ))}
            </ul>
          </Card>
        ))}
      </div>
    </div>
  </div>
</section>
